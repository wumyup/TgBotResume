from telegram import Update, InlineKeyboardButton, InlineKeyboardMarkup
from telegram.ext import Application, CommandHandler, ContextTypes, CallbackQueryHandler, MessageHandler, filters
import telegram.error

# –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã
TOKEN = '7806006262:AAF-FTDOU8WBzJCmT9Rjug8U7cm8cELVAW8'  # –¢–æ–∫–µ–Ω –±–æ—Ç–∞
PHOTO_PATH = 'photo.jpg'  # –ü—É—Ç—å –∫ —Ñ–æ—Ç–æ
WELCOME_TEXT = "–ü—Ä–∏–≤–µ—Ç! –ú–æ—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è 'QA Automation Engineer'. –ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å:"
MENU_TEXT = "–ü—Ä–∏–≤–µ—Ç! –ú–æ—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è 'QA Automation Engineer'. –í—ã–±–µ—Ä–∏, —á—Ç–æ —Ö–æ—á–µ—à—å —É–∑–Ω–∞—Ç—å –æ–±–æ –º–Ω–µ:"

# –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –∫–∞–∫ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞
MAIN_MENU = [
    [InlineKeyboardButton("–û–±–æ –º–Ω–µ", callback_data='about'), InlineKeyboardButton("–†–µ–∑—é–º–µ (—Å—Å—ã–ª–∫–∞)", callback_data='resume')],
    [InlineKeyboardButton("–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ", callback_data='education'), InlineKeyboardButton("–û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã", callback_data='experience')],
    [InlineKeyboardButton("–ù–∞–≤—ã–∫–∏", callback_data='skills'), InlineKeyboardButton("–°–≤—è–∑–∞—Ç—å—Å—è", callback_data='contacts')],
]

# –î–∞–Ω–Ω—ã–µ —Ä–µ–∑—é–º–µ –≤ —Å–ª–æ–≤–∞—Ä–µ
RESUME_DATA = {
    'about': (
        "–ü—Ä–∏–≤–µ—Ç! –ú–µ–Ω—è –∑–æ–≤—É—Ç –ß–∏—Å—Ç—è–∫–æ–≤ –°–µ—Ä–≥–µ–π. –Ø 'QA Automation Engineer' —Å –æ–ø—ã—Ç–æ–º —Å–æ–∑–¥–∞–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –ü–û.\n\n"
        "–í–µ–¥—É –Ω–∞—É—á–Ω—É—é –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–∞ —è–∑—ã–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è Python –≤ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–µ, –≤ —Ä–∞–º–∫–∞—Ö –æ–±—É—á–µ–Ω–∏—è –≤ –∞—Å–ø–∏—Ä–∞–Ω—Ç—É—Ä–µ. "
        "–ò, –∏—Å—Ö–æ–¥—è –∏–∑ —ç—Ç–æ–≥–æ, –≤ –ø–æ—Å–ª–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –¥–ª—è —Å–µ–±—è –∞–∫—Ç–∏–≤–Ω–æ –∏–∑—É—á–∞—é —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Pytest –∏ Selenium.\n\n"
        "–í –Ω–∞—Å—Ç–æ—è—â–∏–π –º–æ–º–µ–Ω—Ç –∞–∫—Ç–∏–≤–Ω–æ –∏—â—É —Ä–∞–±–æ—Ç—É.\n\n"
        "üí∞ **–û–∂–∏–¥–∞–µ–º–∞—è –∑–∞—Ä–ø–ª–∞—Ç–∞**: –æ—Ç 220 000 —Ä—É–±–ª–µ–π –≤ –º–µ—Å—è—Ü."
    ),
    'resume': "https://ekaterinburg.hh.ru/resume/8f53e19bff0e7060040039ed1f6d6f34497977",
    'education': (
        "üéì **–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ**\n"
        "- **–£—Ä–∞–ª—å—Å–∫–∏–π —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç –∏–º–µ–Ω–∏ –ø–µ—Ä–≤–æ–≥–æ –ü—Ä–µ–∑–∏–¥–µ–Ω—Ç–∞ –†–æ—Å—Å–∏–∏ –ë.–ù. –ï–ª—å—Ü–∏–Ω–∞**\n"
        "  –ò–Ω—Å—Ç–∏—Ç—É—Ç —Ä–∞–¥–∏–æ—ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∏ –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π\n"
        "  –°–∏—Å—Ç–µ–º–Ω—ã–π –∞–Ω–∞–ª–∏–∑, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏\n"
        "  –ê—Å–ø–∏—Ä–∞–Ω—Ç—É—Ä–∞, 2022‚Äì2025\n\n"
        "- **–£—Ä–∞–ª—å—Å–∫–∏–π —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç –∏–º–µ–Ω–∏ –ø–µ—Ä–≤–æ–≥–æ –ü—Ä–µ–∑–∏–¥–µ–Ω—Ç–∞ –†–æ—Å—Å–∏–∏ –ë.–ù. –ï–ª—å—Ü–∏–Ω–∞**\n"
        "  –ò–Ω—Å—Ç–∏—Ç—É—Ç —Ä–∞–¥–∏–æ—ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∏ –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π\n"
        "  –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏\n"
        "  –ú–∞–≥–∏—Å—Ç—Ä–∞—Ç—É—Ä–∞, 2019‚Äì2022\n\n"
        "- **–Æ–≥–æ—Ä—Å–∫–∏–π –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç, –•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫**\n"
        "  –ü—Ä–æ–≥—Ä–∞–º–º–Ω–∞—è –∏–Ω–∂–µ–Ω–µ—Ä–∏—è\n"
        "  –ë–∞–∫–∞–ª–∞–≤—Ä–∏–∞—Ç, 2022‚Äì2025\n"
    ),
    'experience': (
        "üíº **–û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã**\n"
        "- **–í–µ–¥—É—â–∏–π —Ç–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫, –û–û–û '–ü–æ—á—Ç–∞–¢–µ—Ö'**\n"
        "  –ò—é–Ω—å 2024 ‚Äì –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è\n"
        "  –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –∞–≤—Ç–æ—Ç–µ—Å—Ç–æ–≤ –¥–ª—è –Ω–µ—Ç–∏–ø–æ–≤–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ 1–° —Å –ø–æ–º–æ—â—å—é —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ Vanessa automation —Å –Ω—É–ª—è (—è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è Gherkin –∏ 1–°).\n"
        "  - –ü—Ä–æ–≤–µ–¥–µ–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ, —Ä–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω–æ–≥–æ, —Å–º–æ—É–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –±–∞–∑–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –∞–≤—Ç–æ—Ç–µ—Å—Ç–æ–≤.\n"
        "  - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤ —Ñ–æ—Ä–º–∞—Ç–∞ json.\n"
        "  - –£—á–∞—Å—Ç–∏–µ –≤ —Å–æ–∑–¥–∞–Ω–∏–∏ Mock-—Å–µ—Ä–≤–µ—Ä–∞ —Å –ø–æ–º–æ—â—å—é Postman –¥–ª—è –∏–º–∏—Ç–∞—Ü–∏–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ API.\n"
        "  - –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ Allure.\n"
        "  - –ó–∞–≤–µ–¥–µ–Ω–∏–µ —Ç–µ—Å—Ç-–∫–µ–π—Å–æ–≤ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ Confluence.\n"
        "  - –£—á–∞—Å—Ç–∏–µ –≤ –≤–Ω–µ–¥—Ä–µ–Ω–∏–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ GitLab CI/CD.\n"
        "  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ gitlab –∫–∞–∫ —Å–∏—Å—Ç–µ–º—ã –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π –∏ –∑–∞–ø—É—Å–∫ –∞–≤—Ç–æ—Ç–µ—Å—Ç–æ–≤.\n"
        "  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Ä–µ–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–∏–∫–ª–∞–¥–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π 1–°:EDT –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.\n"
        "  - –ê–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Jira –¥–ª—è –∫–æ–º–∞–Ω–¥–Ω–æ–π —Ä–∞–±–æ—Ç—ã –Ω–∞–¥ –ø—Ä–æ–µ–∫—Ç–æ–º –∏ –≤ —á–∞—Å—Ç–∏ –∑–∞–≤–µ–¥–µ–Ω–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–µ—Ñ–µ–∫—Ç–æ–≤.\n"
        "  - –ü—Ä–æ–≤–µ–¥–µ–Ω–∏–µ –æ–±—É—á–µ–Ω–∏—è –∫–æ–ª–ª–µ–≥ —Ä–∞–±–æ—Ç—ã —Å —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–º Vanessa automation.\n\n"
        "- **–¢–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫ 1–°, –û–û–û '–í–µ—Ä–Ω—ã–µ —Ü–∏—Ñ—Ä–æ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è'**\n"
        "  –ê–ø—Ä–µ–ª—å 2024 ‚Äì –ò—é–Ω—å 2024\n"
        "  –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –∞–≤—Ç–æ—Ç–µ—Å—Ç–æ–≤ –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ 1–°:–†–æ–∑–Ω–∏—Ü–∞ –∏ 1–°:–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–¢–æ—Ä–≥–æ–≤–ª–µ–π —Å –ø–æ–º–æ—â—å—é —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ Vanessa automation —Å –Ω—É–ª—è (—è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è Gherkin –∏ 1–°).\n"
        "  - –ü—Ä–æ–≤–µ–¥–µ–Ω–∏–µ —Ä–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –±–∞–∑–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –∞–≤—Ç–æ—Ç–µ—Å—Ç–æ–≤.\n"
        "  - –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ Allure.\n"
        "  - –ó–∞–≤–µ–¥–µ–Ω–∏–µ —Ç–µ—Å—Ç-–∫–µ–π—Å–æ–≤ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ Confluence.\n"
        "  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ gitlab –∫–∞–∫ —Å–∏—Å—Ç–µ–º—ã –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π –∏ –∑–∞–ø—É—Å–∫ –∞–≤—Ç–æ—Ç–µ—Å—Ç–æ–≤.\n"
        "  - –ê–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Jira –¥–ª—è –∫–æ–º–∞–Ω–¥–Ω–æ–π —Ä–∞–±–æ—Ç—ã –Ω–∞–¥ –ø—Ä–æ–µ–∫—Ç–æ–º –∏ –≤ —á–∞—Å—Ç–∏ –∑–∞–≤–µ–¥–µ–Ω–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–µ—Ñ–µ–∫—Ç–æ–≤.\n\n"
        "- **–¢–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫, –û–û–û '–ì–†–ò'**\n"
        "  –§–µ–≤—Ä–∞–ª—å 2023 ‚Äì –ê–ø—Ä–µ–ª—å 2024\n"
        "  –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∞–≤—Ç–æ—Ç–µ—Å—Ç–æ–≤ –Ω–∞ —è–∑—ã–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è 1–° (—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ ‚ÄúxUnitFor1C‚Äù).\n"
        "  - –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ —á–µ—Ä–µ–∑ Jenkins.\n"
        "  - –ü—Ä–æ–≤–µ–¥–µ–Ω–∏–µ —Ä–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –±–∞–∑–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –∞–≤—Ç–æ—Ç–µ—Å—Ç–æ–≤.\n"
        "  - –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ Allure.\n"
        "  - –£—á–∞—Å—Ç–∏–µ –≤ —Å–æ–∑–¥–∞–Ω–∏–∏ Mock-—Å–µ—Ä–≤–µ—Ä–∞ —Å –ø–æ–º–æ—â—å—é Postman –¥–ª—è –∏–º–∏—Ç–∞—Ü–∏–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ API.\n"
        "  - –ó–∞–≤–µ–¥–µ–Ω–∏–µ —Ç–µ—Å—Ç-–∫–µ–π—Å–æ–≤ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ TestRail.\n"
        "  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ gitlab –∫–∞–∫ —Å–∏—Å—Ç–µ–º—ã –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π.\n"
        "  - –ê–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Jira –¥–ª—è –∫–æ–º–∞–Ω–¥–Ω–æ–π —Ä–∞–±–æ—Ç—ã –Ω–∞–¥ –ø—Ä–æ–µ–∫—Ç–æ–º –∏ –≤ —á–∞—Å—Ç–∏ –∑–∞–≤–µ–¥–µ–Ω–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–µ—Ñ–µ–∫—Ç–æ–≤.\n\n"
        "- **–°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –û–û–û '–†–û–°–õ–ê–ë–°–ò–°–¢–ï–ú'**\n"
        "  –û–∫—Ç—è–±—Ä—å 2022 ‚Äì –§–µ–≤—Ä–∞–ª—å 2023\n"
        "  –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –∞–≤—Ç–æ—Ç–µ—Å—Ç–æ–≤ –¥–ª—è –Ω–µ—Ç–∏–ø–æ–≤–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ 1–° —Å –ø–æ–º–æ—â—å—é —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ Vanessa automation —Å –Ω—É–ª—è (—è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è Gherkin –∏ 1–°).\n"
        "  - –ü—Ä–æ–≤–µ–¥–µ–Ω–∏–µ —Ä–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –±–∞–∑–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –∞–≤—Ç–æ—Ç–µ—Å—Ç–æ–≤.\n"
        "  - –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ Allure.\n"
        "  - –ó–∞–≤–µ–¥–µ–Ω–∏–µ —Ç–µ—Å—Ç-–∫–µ–π—Å–æ–≤ –Ω–∞ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π wiki –∫–æ–º–ø–∞–Ω–∏–∏.\n"
        "  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ gitlab –∫–∞–∫ —Å–∏—Å—Ç–µ–º—ã –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π.\n"
        "  - –ü—Ä–æ–≤–µ–¥–µ–Ω–∏–µ –æ–±—É—á–µ–Ω–∏—è –∫–æ–ª–ª–µ–≥ —Ä–∞–±–æ—Ç—ã —Å —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–º Vanessa automation.\n\n"
        "- **–ò–Ω–∂–µ–Ω–µ—Ä-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç 2 –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –ê–û '–ü—Ä–æ–º—ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞'**\n"
        "  –ù–æ—è–±—Ä—å 2020 ‚Äì –ò—é–Ω—å 2022\n"
        "  - –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–º–æ—â—å—é Jira.\n"
        "  - –ù–∞–ø–∏—Å–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤ –ø–æ–¥ –û–° Astra Linux (#!/bin/bash).\n"
        "  - –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ —è–∑—ã–∫–µ Delphi.\n"
        "  - –†–∞–±–æ—Ç–∞ —Å —Ç–µ—Å—Ç–∏—Ä—É—é—â–∏–º –∫–æ–º–ø–ª–µ–∫—Å–æ–º: –ø–æ–∏—Å–∫ –ø—Ä–æ–±–ª–µ–º –∏ —Ä–µ—à–µ–Ω–∏–π, —á—Ç–µ–Ω–∏–µ –ª–æ–≥–æ–≤, —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –∏ —Ä–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ.\n"
        "  - –ù–∞–ø–∏—Å–∞–Ω–∏–µ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π.\n"
        "  - –†–∞–±–æ—Ç–∞ —Å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π (svn).\n"
        "  - –†–∞–±–æ—Ç–∞ —Å —Ä–∞–∑–Ω—ã–º–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º–∏ –º–∞—à–∏–Ω–∞–º–∏ (virtualbox).\n\n"
        "- **–¢–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫, –û–ê–û '–£—Ä–∞–ª—å—Å–∫–∏–π –ø—Ä–∏–±–æ—Ä–æ—Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–π –∑–∞–≤–æ–¥'**\n"
        "  –§–µ–≤—Ä–∞–ª—å 2020 ‚Äì –ù–æ—è–±—Ä—å 2020\n"
        "  –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ü–û –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è (–∞–ø–ø–∞—Ä–∞—Ç—ã –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–π –≤–µ–Ω—Ç–∏–ª—è—Ü–∏–∏ –ª–µ–≥–∫–∏—Ö).\n"
    ),
    'skills': (
        "üõ† **–ö–ª—é—á–µ–≤—ã–µ –Ω–∞–≤—ã–∫–∏**\n"
        "- –Ø–∑—ã–∫–∏: Python, Java (–æ—Å–Ω–æ–≤—ã), 1–°\n"
        "- –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏: Selenium, Pytest, Postman, Vanessa Automation\n"
        "- CI/CD: Jenkins, GitLab CI\n"
        "- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: API, Web, Mobile, 1–°\n"
        "- –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö: PostgreSQL, MySQL (–æ—Å–Ω–æ–≤—ã)\n"
    ),
    'contacts': (
        "üì© –°–≤—è–∑–∞—Ç—å—Å—è —Å–æ –º–Ω–æ–π:\n"
        "- Email: wumyup@gmail.com\n"
        "- Telegram: @serezha_baller\n"
        "- –¢–µ–ª–µ—Ñ–æ–Ω: +7 (982) 147-50-94"
    )
}

# –£—Ç–∏–ª–∏—Ç–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
async def send_message(chat_id: int, text: str, reply_markup: InlineKeyboardMarkup, context: ContextTypes.DEFAULT_TYPE, parse_mode: str = 'Markdown') -> int:
    """–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –µ–≥–æ ID"""
    try:
        if parse_mode == 'Markdown':
            message = await context.bot.send_message(chat_id=chat_id, text=text, reply_markup=reply_markup, parse_mode=parse_mode, disable_web_page_preview=False)
        else:
            message = await context.bot.send_message(chat_id=chat_id, text=text, reply_markup=reply_markup, parse_mode=None)
    except telegram.error.BadRequest as e:
        print(f"Markdown parsing error: {e} in text: {text}")
        message = await context.bot.send_message(chat_id=chat_id, text=text, reply_markup=reply_markup, parse_mode=None)
    return message.message_id

# –£—Ç–∏–ª–∏—Ç–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ç–æ
async def send_photo_message(chat_id: int, text: str, reply_markup: InlineKeyboardMarkup, context: ContextTypes.DEFAULT_TYPE) -> int:
    """–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–æ—Ç–æ —Å –ø–æ–¥–ø–∏—Å—å—é –∏–ª–∏ —Ç–µ–∫—Å—Ç, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç ID —Å–æ–æ–±—â–µ–Ω–∏—è"""
    try:
        with open(PHOTO_PATH, 'rb') as photo:
            message = await context.bot.send_photo(chat_id=chat_id, photo=photo, caption=text, reply_markup=reply_markup)
    except FileNotFoundError:
        message = await context.bot.send_message(chat_id=chat_id, text=text, reply_markup=reply_markup, parse_mode=None)
    return message.message_id

# –£—Ç–∏–ª–∏—Ç–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
async def delete_previous_message(chat_id: int, context: ContextTypes.DEFAULT_TYPE) -> None:
    """–£–¥–∞–ª—è–µ—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ, –µ—Å–ª–∏ –æ–Ω–æ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç"""
    if 'last_message_id' in context.user_data:
        try:
            await context.bot.delete_message(chat_id=chat_id, message_id=context.user_data['last_message_id'])
        except telegram.error.BadRequest:
            pass  # –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –æ—à–∏–±–∫—É, –µ—Å–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ —É–∂–µ —É–¥–∞–ª–µ–Ω–æ

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–µ—Ä–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
async def welcome(update: Update, context: ContextTypes.DEFAULT_TYPE) -> None:
    """–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–Ω–æ–ø–∫—É '–ù–∞—á–∞—Ç—å' –ø—Ä–∏ –ø–µ—Ä–≤–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏"""
    keyboard = [[InlineKeyboardButton("–ù–∞—á–∞—Ç—å", callback_data='start')]]
    reply_markup = InlineKeyboardMarkup(keyboard)
    message_id = await send_message(update.message.chat_id, WELCOME_TEXT, reply_markup, context, parse_mode=None)
    context.user_data['menu_message_id'] = message_id

# –õ–æ–≥–∏–∫–∞ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é
async def show_main_menu(update: Update, context: ContextTypes.DEFAULT_TYPE) -> None:
    """–û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —Å —Ñ–æ—Ç–æ"""
    query = update.callback_query if update.callback_query else None
    if query:
        await query.answer()
        chat_id = query.message.chat_id
    else:
        chat_id = update.message.chat_id

    # –£–¥–∞–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∫–Ω–æ–ø–∫–æ–π "–ù–∞—á–∞—Ç—å", –µ—Å–ª–∏ –æ–Ω–æ –µ—Å—Ç—å
    if 'menu_message_id' in context.user_data:
        try:
            await context.bot.delete_message(chat_id=chat_id, message_id=context.user_data['menu_message_id'])
        except telegram.error.BadRequest:
            pass
        del context.user_data['menu_message_id']

    reply_markup = InlineKeyboardMarkup(MAIN_MENU)
    message_id = await send_photo_message(chat_id, MENU_TEXT, reply_markup, context)
    context.user_data['menu_message_id'] = message_id

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏–π –Ω–∞ –∫–Ω–æ–ø–∫–∏
async def handle_button(update: Update, context: ContextTypes.DEFAULT_TYPE) -> None:
    """–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–∞–∂–∞—Ç–∏—è –Ω–∞ –∫–Ω–æ–ø–∫–∏, –∑–∞–º–µ–Ω—è—è –ø—Ä–µ–¥—ã–¥—É—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ"""
    query = update.callback_query
    await query.answer()

    chat_id = query.message.chat_id

    if query.data == 'start':
        await show_main_menu(update, context)
        return

    # –£–¥–∞–ª—è–µ–º –ø—Ä–µ–¥—ã–¥—É—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π, –µ—Å–ª–∏ –æ–Ω–æ –µ—Å—Ç—å
    await delete_previous_message(chat_id, context)

    # –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞
    text = f"–í–æ—Ç —Å—Å—ã–ª–∫–∞ –Ω–∞ –º–æ–µ —Ä–µ–∑—é–º–µ:\n[{RESUME_DATA['resume']}]({RESUME_DATA['resume']})" if query.data == 'resume' else RESUME_DATA[query.data]
    parse_mode = 'Markdown' if query.data != 'contacts' else None  # –û—Ç–∫–ª—é—á–∞–µ–º Markdown –¥–ª—è contacts

    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ–º –µ–≥–æ ID
    message_id = await send_message(chat_id, text, None, context, parse_mode)
    context.user_data['last_message_id'] = message_id

# –ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
def main() -> None:
    """–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞"""
    app = Application.builder().token(TOKEN).build()

    # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
    app.add_handler(MessageHandler(filters.TEXT & ~filters.COMMAND, welcome))
    app.add_handler(CommandHandler("start", show_main_menu))
    app.add_handler(CallbackQueryHandler(handle_button, pattern='^(about|resume|education|experience|skills|contacts|start)$'))

    # –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
    app.run_polling()

if __name__ == '__main__':
    main()